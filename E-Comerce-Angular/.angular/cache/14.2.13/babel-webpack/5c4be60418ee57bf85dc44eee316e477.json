{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { BehaviorSubject, Subject } from \"rxjs\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport let CartService = /*#__PURE__*/(() => {\n  class CartService {\n    constructor(http) {\n      this.http = http;\n      this.cartItemList = [];\n      this.productList = new BehaviorSubject([]);\n      this.search = new BehaviorSubject([]);\n      this.cartData = new EventEmitter(); // currentCart(){\n      //   let userStore=localStorage.getItem('local');\n      //   let userData = userStore && JSON.parse(userStore);\n      //   return this.http.get('local');\n      //  }\n      //  getTotalPrice() : number{\n      //   let grandTotal=0;\n      //   this.cartItemList.map((a:any)=>{\n      //     grandTotal += a.total;\n      //   })\n      //   return grandTotal;\n      // }\n      // removeCartItem(Id: number){\n      //   let cartData = localStorage.getItem('local');\n      //   if(cartData){\n      //     let items=Id=JSON.parse(cartData);\n      //     items=items.filter((item:any)=>Id!=item.id);\n      //     localStorage.setItem('local',JSON.stringify(items));\n      //     this.cartData.emit(items);\n      //   }\n      //  }\n      //  removeAllCart(){\n      //   this.cartItemList=[]\n      //   this.productList.next(this.cartItemList);\n      // }\n\n      this.cartSubject = new Subject();\n    } // getProducts(){\n    //   return this.productList.asObservable();\n    // }\n    // setProducts(product:any){\n    //   this.cartItemList.push(...product);\n    //   this.productList.next(product);\n    // }\n    // addroCart(product:any){\n    //   this.cartItemList.push (product);\n    //   this.productList.next(this.cartItemList);\n    //   this.getTotalPrice();\n    //   console.log(this.cartItemList);\n    // }\n\n\n    localAddCart(data) {\n      let cartData = [];\n      let local = localStorage.getItem('local');\n\n      if (!local) {\n        localStorage.setItem('local', JSON.stringify([data]));\n      } else {\n        cartData = JSON.parse(local);\n        cartData.push(data);\n        localStorage.setItem('local', JSON.stringify(cartData));\n      }\n\n      this.cartData.emit(cartData);\n    }\n\n  }\n\n  CartService.ɵfac = function CartService_Factory(t) {\n    return new (t || CartService)(i0.ɵɵinject(i1.HttpClient));\n  };\n\n  CartService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: CartService,\n    factory: CartService.ɵfac,\n    providedIn: 'root'\n  });\n  return CartService;\n})();","map":null,"metadata":{},"sourceType":"module"}